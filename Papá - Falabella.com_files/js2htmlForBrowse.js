var paramTemplate="_dyncharset=iso-8859-1&requestChainToken=#requestChainToken#&goToPage=#goToPage#&pageSize=#pageSize#&priceFlag=#priceFlag#&categoryId=#categoryId#&docSort=#docSort#&docSortProp=#docSortProp#&docSortOrder=#docSortOrder#&onlineStoreFilter=#onlineStoreFilter#&userSelectedFormat=#userSelectedFormat#&trail=#trail#&navAction=#navAction#&searchCategory=#searchCategory#&question=#question#&searchColorGroupFacet=#searchColorGroupFacet#&qfh_ft=#qfh_ft#&qfh_s_s=submit&_D:qfh_s_s= &_D:qfh_ft= &_DARGS=#contextroot#/browse/facetsFunctions.jsp.searchFacetsForm";function commonInit(a,d){if(a==undefined||a==null){return}var c=paramTemplate;var e=$("#"+$(a).attr("trail")).val();c=c.replace("#requestChainToken#",$("#facetsForm input[name='requestChainToken']").val());c=c.replace("#goToPage#","1");c=c.replace("#pageSize#",$("#facetsForm input[name='pageSize']").val());c=c.replace("#categoryId#",$("#facetsForm input[name='categoryId']").val());c=c.replace("#docSort#",$("#facetsForm input[name='docSort']").val());c=c.replace("#docSortProp#",$("#facetsForm input[name='docSortProp']").val());c=c.replace("#docSortOrder#",$("#facetsForm input[name='docSortOrder']").val());c=c.replace("#onlineStoreFilter#",$("#facetsForm input[name='onlineStoreFilter']").val());c=c.replace("#userSelectedFormat#",$("#facetsForm input[name='userSelectedFormat']").val());c=c.replace("#navAction#",$("#facetsForm input[name='navAction']").val());c=c.replace("#searchCategory#",$("#facetsForm input[name='searchCategory']").val());c=c.replace("#question#",$("#facetsForm input[name='question']").val());if(!d){c=c.replace("#trail#",e);c=c.replace("#qfh_ft#",e)}c=c.replace("#contextroot#",ctx);var b=ctx+"/browse/productList.jsp?"+c;return b}function initSameStructureFacetURL(a,b){if(a==null||a==undefined||$.trim(a)==""){return}$(a).each(function(){var c=$(this).find("a");var d=commonInit(c);d=d.replace("#searchColorGroupFacet#",$("#facetsForm input[name='searchColorGroupFacet']").val());d=d.replace("#priceFlag#",$("#facetsForm input[name='priceFlag']").val());for(i=0;i<b.length;i++){$(c).removeAttr(b[i])}$(c).attr("href",d)})}function initPriceFacetLinkURL(){$("#priceFactsUL li").each(function(){var b=$(this).find("a");var c=commonInit(b);var d=$(b).attr("priceflag");c=c.replace("#searchColorGroupFacet#",$("#facetsForm input[name='searchColorGroupFacet']").val());c=c.replace("#priceFlag#",d);$(b).removeAttr("trail").removeAttr("priceflag").attr("href",c)})}function initColorFacetLinkURL(){$(".colorFactsLink").each(function(){var b=$(this).find("a");var c=commonInit(b);c=c.replace("#searchColorGroupFacet#",$(b).attr("searchColorGroupFacet"));c=c.replace("#priceFlag#",$("#facetsForm input[name='priceFlag']").val());$(b).removeAttr("trail").removeAttr("searchColorGroupFacet").attr("href",c);$(this).click(function(e){var d=$(this).find("a");document.location.href=$(d).attr("href")});b=undefined})}function initBreadCrumbDelLinkURL(){$(".breadCrumbDelLink").each(function(){var b=$(this);var c=commonInit(b);c=c.replace("#searchColorGroupFacet#",$("#facetsForm input[name='searchColorGroupFacet']").val());c=c.replace("#priceFlag#",$("#facetsForm input[name='priceFlag']").val());$(b).removeAttr("trail").attr("href",c)})}function initLeftDelLinkURL(){$(".leftDelLink").each(function(){var b=$(this);var d=commonInit(b);var e=$("#facetsForm input[name='searchColorGroupFacet']").val();var c=$(b).attr("searchColorGroupFacet");if(c==true||c=="true"){e="true"}var f=$(b).attr("delSearchColorGroupFacet");if(f==true||f=="true"){e="false"}d=d.replace("#searchColorGroupFacet#",e);d=d.replace("#priceFlag#",$("#facetsForm input[name='priceFlag']").val());$(b).removeAttr("trail").attr("href",d)})}function initPaginationURL(){$(".paginationLink a").each(function(){var b=$(this);var c=commonInit(b,true);var d=$(b).attr("topage");c=c.replace("&goToPage=1","&goToPage="+d);c=c.replace("#trail#",$("#facetsForm input[name='trail']").val());c=c.replace("#qfh_ft#",$("#facetsForm input[name='trail']").val());c=c.replace("#priceFlag#",$("#facetsForm input[name='priceFlag']").val());c=c.replace("#searchColorGroupFacet#",$("#facetsForm input[name='searchColorGroupFacet']").val());$(b).removeAttr("topage").attr("href",c)})}function placePaginationURLToHead(){var d=Number($("#justForSEOHeadPagination").attr("prePageNum"));var f=Number($("#justForSEOHeadPagination").attr("nextPageNum"));var b="<link rel='next' href='";var e="<link rel='prev' href='";var c="'/>";var a="";if(d==0&&f>0){var g="";$("#paginador").find("a").each(function(){var k=$.trim($(this).text());if(k==f){g=$(this).attr("href")}});if(g==""){$("#holdPlaceForPagination").remove();return}a=b+g+c}if(d>0&&f>0){var j="";var h="";$("#paginador").find("a").each(function(){var k=$.trim($(this).text());if(k==d){j=$(this).attr("href")}if(k==f){h=$(this).attr("href")}});if(j==""&&h==""){$("#holdPlaceForPagination").remove();return}a=e+j+c;a=a+b+h+c}if(f==0&&d>0){var g="";$("#paginador").find("a").each(function(){var k=$.trim($(this).text());if(k==d){g=$(this).attr("href")}});if(g==""){$("#holdPlaceForPagination").remove();return}a=e+g+c}$("#holdPlaceForPagination").after(a);$("#holdPlaceForPagination").remove()}function init(){$("a[href='javascript:undefined']").removeAttr("href");initPriceFacetLinkURL();initColorFacetLinkURL();var a=new Array();a[0]="trail";initSameStructureFacetURL(".categoryFactsUL li",a);initSameStructureFacetURL(".leftMenuFacetUL li",a);initSameStructureFacetURL("#ratingFacetUL li",a);initSameStructureFacetURL("#specialProductFacetUL li",a);initPaginationURL();initBreadCrumbDelLinkURL();initLeftDelLinkURL();placePaginationURLToHead()}init();